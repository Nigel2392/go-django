# Cache Package Documentation

**Note**: This documentation page was (in part) generated by ChatGPT and has been fully reviewed by [Nigel2392](github.com/Nigel2392).

The `cache` package provides an interface and utility functions for working with cache backends. It allows multiple cache backends to be registered, managed, and used. A default cache backend is pre-configured, so the package functions can always operate on a cache without additional setup.

## Types

### `type Duration`

- An alias for `time.Duration`, used for specifying time-to-live (TTL) values for cache entries.

### `type CacheConnector`

The `CacheConnector` interface represents a cache backend that can connect to an external service.

```go
type CacheConnector interface {
    Connect() error            // Establishes a connection to the cache service.
    HasConnected() bool        // Returns true if the connection is established.
}
```

### `type Cache`

The `Cache` interface defines the methods required to interact with a cache.

```go
type Cache interface {
    Get(key string) (interface{}, error)               // Retrieves a value by key.
    GetDefault(key string, defaultValue interface{}) (interface{}, error) // Retrieves a value by key or returns a default.
    Set(key string, value interface{}, ttl Duration) error  // Stores a value with an optional TTL.
    TTL(key string) Duration                            // Returns the TTL of a key.
    Has(key string) bool                                // Checks if a key exists.
    Delete(key string) error                            // Deletes a key.
    Keys() ([]string, error)                            // Returns all keys.
    Clear() error                                       // Clears the cache.
    Close() error                                       // Closes the cache.
}
```

## Default Cache Backend

The package comes with a default cache backend that is always pre-configured. This ensures that the cache-related functions can be used without explicitly setting up a cache backend.

### Default Cache Key

- `DefaultCache`: A constant representing the name of the default cache backend, set to `"default"`.

## Package Functions

### Register and Manage Cache Backends

- `RegisterCache(name string, cache Cache)`
  - Registers a new cache backend with the given name.
  
- `RemoveCache(name string)`
  - Removes a cache backend by name.

- `GetCache(names ...string) Cache`
  - Retrieves a cache backend by name. If no name is provided, the default backend is returned.

- `SetDefault(cache Cache)`
  - Sets the provided cache as the default cache backend.

- `Default() Cache`
  - Retrieves the default cache backend.

### Cache Operations (Default Backend)

These functions operate on the default cache backend.

- `Get(key string) (interface{}, error)`
  - Retrieves a value by key from the default cache. If the key is not found, it returns `nil` and `ErrItemNotFound`.

- `GetDefault(key string, defaultValue interface{}) (interface{}, error)`
  - Retrieves a value by key from the default cache or returns `defaultValue` if the key does not exist.

- `Set(key string, value interface{}, ttl Duration) error`
  - Stores a value in the default cache with an optional TTL. If the TTL is 0, the value never expires.

- `TTL(key string) Duration`
  - Returns the TTL for a key in the default cache. If the key does not exist, it returns 0.

- `Has(key string) bool`
  - Checks if a key exists in the default cache.

- `Delete(key string) error`
  - Removes a key from the default cache.

- `Keys() ([]string, error)`
  - Returns all keys in the default cache.

- `Clear() error`
  - Clears all entries from the default cache.

- `Close() error`
  - Closes the default cache.

## Preconfigured Cache

The package ensures that a default cache backend is always available (unless manually removed). The backend is registered during initialization, so you can immediately use the cache without manual configuration.
